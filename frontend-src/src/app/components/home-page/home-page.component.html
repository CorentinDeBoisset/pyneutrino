<div class="home-page">
    <form
        *ngIf="(currentUser$ | async)?.email"
        (submit)="newConversationSubmit($event)"
        class="flex-row new-conversation-form"
    >
        <div class="col-auto mx-auto">
            <button class="btn" type="submit" i18n="homepage-start-conversation">Start a new conversation</button>
        </div>
        <div *ngIf="newConversationError">{{ newConversationError }}</div>
    </form>
    <div *ngIf="conversations.length > 0">
        <div i18n="homepage-recent-conversations">Recent conversations:</div>
        <ul>
            <li *ngFor="let conv of conversations">
                <a routerLink="/conversation/{{ conv.id }}">{{ conv.id }}</a>
                <span> - </span>
                <span title="{{ conv.last_update_date | date:'medium' }}">{{ conv.last_update_date | timeFromNow }}</span>
            </li>
        </ul>
    </div>
</div>
